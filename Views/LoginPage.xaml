<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="cowl.Views.LoginPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:cowl.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FF6B6BFF" Offset="0" />
                <GradientStop Color="#FF4ECDC4" Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Main Content -->
        <Grid MaxWidth="550" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Padding="48,40">
                <Border.Shadow>
                    <ThemeShadow />
                </Border.Shadow>
                <StackPanel Spacing="24">
                    <!-- Logo/Header -->
                    <StackPanel HorizontalAlignment="Center" Spacing="8">
                        <FontIcon
                            FontFamily="Segoe MDL2 Assets"
                            FontSize="48"
                            Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                            Glyph="&#xE77B;" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontSize="28"
                            FontWeight="SemiBold"
                            Text="Đăng Nhập" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="Chào mừng trở lại!" />
                    </StackPanel>

                    <!-- InfoBar for notifications -->
                    <InfoBar
                        x:Name="LoginInfoBar"
                        IsClosable="True"
                        IsOpen="False" />

                    <!-- Login Form -->
                    <StackPanel Spacing="16">
                        <!-- Username/Email -->
                        <TextBox
                            x:Name="UsernameTextBox"
                            Header="Tên đăng nhập hoặc Email"
                            PlaceholderText="Nhập tên đăng nhập hoặc email"
                            KeyDown="OnTextBoxKeyDown">
                            <TextBox.HeaderTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                        <FontIcon
                                            FontFamily="Segoe MDL2 Assets"
                                            FontSize="12"
                                            Glyph="&#xE77B;" />
                                        <TextBlock Text="Tên đăng nhập hoặc Email" />
                                    </StackPanel>
                                </DataTemplate>
                            </TextBox.HeaderTemplate>
                        </TextBox>

                        <!-- Password -->
                        <PasswordBox
                            x:Name="PasswordBox"
                            Header="Mật khẩu"
                            PlaceholderText="Nhập mật khẩu"
                            KeyDown="OnPasswordBoxKeyDown">
                            <PasswordBox.HeaderTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                        <FontIcon
                                            FontFamily="Segoe MDL2 Assets"
                                            FontSize="12"
                                            Glyph="&#xE72E;" />
                                        <TextBlock Text="Mật khẩu" />
                                    </StackPanel>
                                </DataTemplate>
                            </PasswordBox.HeaderTemplate>
                        </PasswordBox>

                        <!-- Remember Me & Forgot Password -->
                        <Grid>
                            <CheckBox x:Name="RememberMeCheckBox" Content="Ghi nhớ đăng nhập" />
                            <HyperlinkButton
                                HorizontalAlignment="Right"
                                Content="Quên mật khẩu?"
                                FontSize="12" />
                        </Grid>
                    </StackPanel>

                    <!-- Login Button -->
                    <Button
                        x:Name="LoginButton"
                        HorizontalAlignment="Stretch"
                        Click="OnLoginClicked"
                        Content="Đăng Nhập"
                        Style="{StaticResource AccentButtonStyle}">
                        <Button.KeyboardAccelerators>
                            <KeyboardAccelerator Key="Enter" />
                        </Button.KeyboardAccelerators>
                    </Button>

                    <!-- Progress Ring -->
                    <ProgressRing
                        x:Name="LoadingRing"
                        HorizontalAlignment="Center"
                        IsActive="False"
                        Visibility="Collapsed" />

                    <!-- Divider -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border
                            Grid.Column="0"
                            Height="1"
                            VerticalAlignment="Center"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />
                        <TextBlock
                            Grid.Column="1"
                            Margin="12,0"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="hoặc" />
                        <Border
                            Grid.Column="2"
                            Height="1"
                            VerticalAlignment="Center"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />
                    </Grid>

                    <!-- Register Link -->
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" Spacing="4">
                        <TextBlock
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="Chưa có tài khoản?" />
                        <HyperlinkButton
                            Padding="4,0"
                            Click="OnRegisterClicked"
                            Content="Đăng ký ngay" />
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>
